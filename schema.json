{
  "type": "object",
  "properties": {
    "root": {
      "type": "string",
      "title": "Path under which to store sun phase keys",
      "default": "environment.sunphases."
    },
    "interval": {
      "title": "Heartbeat",
      "type": "number",
      "minimum": 0,
      "default": 600
    },
    "notifications": {
      "type": "array",
      "title": "Notification rules",
      "items": {
        "type": "object",
        "properties": {
          "rangelo": {
            "type": "string",
            "title": "Start of notification ON period"
          },
          "rangehi": {
            "type": "string",
            "title": "End of notification ON period"
          },
          "inrangenotification": {
            "title": "In-range notification",
            "type": "object",
            "properties": {
              "path": {
                "title": "Notification path",
                "type": "string"
              },
              "state": {
                "title": "Notification state",
                "type": "string",
                "default": "normal",
                "enum": [ "normal", "alert", "warn", "alarm", "emergency" ]
              },
              "method": {
                "title": "Notification methods",
                "type": "array",
                "default": [],
                "items": {
                  "type": "string",
                  "enum": [ "visual", "sound" ]
                },
                "uniqueItems": true
              }
            },
            "required": [ "path" ]
          },
          "outrangenotification": {
            "title": "Out-of-range notification",
            "type": "object",
            "properties": {
              "path": {
                "title": "Notification path",
                "type": "string"
              },
              "state": {
                "title": "Notification state",
                "type": "string",
                "default": "normal",
                "enum": [ "normal", "alert", "warn", "alarm", "emergency" ]
              },
              "method": {
                "title": "Notification methods",
                "type": "array",
                "default": [],
                "items": {
                    "type": "string",
                    "enum": [ "visual", "sound" ]
                },
                "uniqueItems": true
              }
            },
            "required": [ "path" ]
          }
        },
        "required": [ "rangelo", "rangehi" ]
      },
      "default": [
        { "rangelo": "dawn", "rangehi": "dusk", "inrangenotification": { "path": "notifications.daytime" }, "outrangenotification": { "path": "notifications.nighttime" } }
      ]
    }
  },
  "required": [ "interval", "keypath", "notifications" ]
}
